<!DOCTYPE html>
<head>
	<title>Init Web Page</title>
	<style>
      body {
         background-color: #2D2D2D;
      }

      h1 {
         color: #C26356;
         font-size: 30px;
         font-family: Menlo, Monaco, fixed-width;
      }

      p {
         color: white;
         font-family: "Source Code Pro", Menlo, Monaco, fixed-width;
      }
   </style>
</head>
<body>
	<h1>Initial Setup</h1>
	<p>To be updated</p>
	<div>
      <label for="searchSymbol"> Enter company symbol: </label>
      <input type="text" id="searchSymbol" placeholder="e.g. aapl">
   </div>
   <div>
      <button>Search</button>
   </div>
   <pre>

   </pre>

   <script type="text/javascript">
      var searchInput = document.querySelector("#searchSymbol");
      var searchClicked = document.querySelector("button");
      var disp = document.querySelector("pre");

      searchClicked.onClick = function() {
         var searchVal = searchInput.value;
         
         updateDisp(searchVal);
      }

      
      function updateDisp(searchVal){
         var url = `https://api.iextrading.com/1.0/stock/${searchVal}/company`;
console.log("MY URL", url);
         var request = new XMLHttpRequest();
         request.open('GET', url);
         request.responseType = 'json';

         request.onload = function() {
            var resp = request.response
            console.log("GOT", resp);
            disp.textContent = resp;
         };

         request.send();
      }

      updateDisp('aapl');
      searchInput.value = 'aapl';
      
   </script>
</body>
</html>
